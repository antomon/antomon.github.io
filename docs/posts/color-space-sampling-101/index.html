<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Antonio Montano">
<meta name="dcterms.date" content="2024-01-27">
<meta name="description" content="The evolution of color spaces is a testament to the intersection of art, science, and technology. Each color space has been developed to meet specific needs - from artistic expression and print media to digital interfaces and scientific research. Understanding these spaces is crucial for professionals in fields like photography, design, and digital media, where color accuracy and consistency are paramount.">

<title>Color Space Sampling 101 ‚Äì Bits of Knowledge</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-0626ff4d7a71b55c8707dcae1d04a9b6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-df4944eb312c9a9f32e1e3950808aaef.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=663ff7b280d7c0001914e592&amp;product=sticky-share-buttons" async="async"></script>
<script src="https://cdn.jsdelivr.net/npm/typewriter-effect@latest/dist/core.js"></script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Color Space Sampling 101 ‚Äì Bits of Knowledge">
<meta property="og:description" content="The evolution of color spaces is a testament to the intersection of art, science, and technology. Each color space has been developed to meet specific needs - from artistic expression and print media to digital interfaces and scientific research. Understanding these spaces is crucial for professionals in fields like photography, design, and digital media, where color accuracy and consistency are paramount.">
<meta property="og:image" content="https://antomon.github.io/posts/color-space-sampling-101/colors101.png">
<meta property="og:site_name" content="Bits of Knowledge">
<meta property="og:image:height" content="1024">
<meta property="og:image:width" content="1024">
<meta name="twitter:title" content="Color Space Sampling 101 ‚Äì Bits of Knowledge">
<meta name="twitter:description" content="The evolution of color spaces is a testament to the intersection of art, science, and technology. Each color space has been developed to meet specific needs - from artistic expression and print media to digital interfaces and scientific research. Understanding these spaces is crucial for professionals in fields like photography, design, and digital media, where color accuracy and consistency are paramount.">
<meta name="twitter:image" content="https://antomon.github.io/posts/color-space-sampling-101/colors101.png">
<meta name="twitter:image-height" content="1024">
<meta name="twitter:image-width" content="1024">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../favicon.png" alt="AM logo" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Bits of Knowledge</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contents/services.html"> 
<span class="menu-text">Services</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://4m4.it/corso-python/"> 
<span class="menu-text">Corso Python</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/montano/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/antomon"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/antomon"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <a class="flex-grow-1 no-decor" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
          <h1 class="quarto-secondary-nav-title">Color Space Sampling 101</h1>
        </a>     
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title d-none d-lg-block">Color Space Sampling 101</h1>
            <p class="subtitle lead">How to uniformly sample a color space?</p>
                  <div>
        <div class="description">
          The evolution of color spaces is a testament to the intersection of art, science, and technology. Each color space has been developed to meet specific needs - from artistic expression and print media to digital interfaces and scientific research. Understanding these spaces is crucial for professionals in fields like photography, design, and digital media, where color accuracy and consistency are paramount.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">programming</div>
                <div class="quarto-category">Python</div>
                <div class="quarto-category">tutorial</div>
                <div class="quarto-category">üá¨üáß</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Antonio Montano </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">January 27, 2024</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Modified</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">February 11, 2024</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="3">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#color-spaces" id="toc-color-spaces" class="nav-link active" data-scroll-target="#color-spaces">Color spaces</a>
  <ul class="collapse">
  <li><a href="#layman-terms" id="toc-layman-terms" class="nav-link" data-scroll-target="#layman-terms">Layman terms</a></li>
  <li><a href="#technically-speaking" id="toc-technically-speaking" class="nav-link" data-scroll-target="#technically-speaking">Technically speaking</a></li>
  </ul></li>
  <li><a href="#rgb-and-srgb-color-spaces" id="toc-rgb-and-srgb-color-spaces" class="nav-link" data-scroll-target="#rgb-and-srgb-color-spaces">RGB and sRGB Color Spaces</a>
  <ul class="collapse">
  <li><a href="#number-of-colors" id="toc-number-of-colors" class="nav-link" data-scroll-target="#number-of-colors">Number of Colors</a></li>
  <li><a href="#display-standards" id="toc-display-standards" class="nav-link" data-scroll-target="#display-standards">Display Standards</a></li>
  <li><a href="#complementary-colors" id="toc-complementary-colors" class="nav-link" data-scroll-target="#complementary-colors">Complementary Colors</a></li>
  <li><a href="#other-notations-for-rgb-color-space" id="toc-other-notations-for-rgb-color-space" class="nav-link" data-scroll-target="#other-notations-for-rgb-color-space">Other Notations for RGB Color Space</a></li>
  </ul></li>
  <li><a href="#cmy-and-cmyk-color-spaces" id="toc-cmy-and-cmyk-color-spaces" class="nav-link" data-scroll-target="#cmy-and-cmyk-color-spaces">CMY and CMYK Color Spaces</a>
  <ul class="collapse">
  <li><a href="#cmy" id="toc-cmy" class="nav-link" data-scroll-target="#cmy">CMY</a></li>
  <li><a href="#cmyk" id="toc-cmyk" class="nav-link" data-scroll-target="#cmyk">CMYK</a></li>
  <li><a href="#differences-with-rgb" id="toc-differences-with-rgb" class="nav-link" data-scroll-target="#differences-with-rgb">Differences with RGB</a></li>
  </ul></li>
  <li><a href="#hsl-and-hsv-color-spaces" id="toc-hsl-and-hsv-color-spaces" class="nav-link" data-scroll-target="#hsl-and-hsv-color-spaces">HSL and HSV Color Spaces</a></li>
  <li><a href="#yiq-and-yuv-color-spaces" id="toc-yiq-and-yuv-color-spaces" class="nav-link" data-scroll-target="#yiq-and-yuv-color-spaces">YIQ and YUV Color Spaces</a></li>
  <li><a href="#cie-color-spaces" id="toc-cie-color-spaces" class="nav-link" data-scroll-target="#cie-color-spaces">CIE Color Spaces</a>
  <ul class="collapse">
  <li><a href="#xyz" id="toc-xyz" class="nav-link" data-scroll-target="#xyz">XYZ</a></li>
  <li><a href="#cielab" id="toc-cielab" class="nav-link" data-scroll-target="#cielab">CIELab</a></li>
  <li><a href="#cielch" id="toc-cielch" class="nav-link" data-scroll-target="#cielch">CIELCh</a></li>
  <li><a href="#cieluv" id="toc-cieluv" class="nav-link" data-scroll-target="#cieluv">CIELUV</a></li>
  <li><a href="#lchab" id="toc-lchab" class="nav-link" data-scroll-target="#lchab">LCH(ab)</a></li>
  </ul></li>
  <li><a href="#color-space-as-a-mathematical-space-subset" id="toc-color-space-as-a-mathematical-space-subset" class="nav-link" data-scroll-target="#color-space-as-a-mathematical-space-subset">Color Space as a Mathematical Space Subset</a></li>
  <li><a href="#color-spaces-conversion-libraries" id="toc-color-spaces-conversion-libraries" class="nav-link" data-scroll-target="#color-spaces-conversion-libraries">Color Spaces Conversion Libraries</a>
  <ul class="collapse">
  <li><a href="#python-colormath" id="toc-python-colormath" class="nav-link" data-scroll-target="#python-colormath">python-colormath</a></li>
  <li><a href="#other-libraries" id="toc-other-libraries" class="nav-link" data-scroll-target="#other-libraries">Other Libraries</a></li>
  </ul></li>
  <li><a href="#python-script-for-cielab-color-sampling-and-conversion" id="toc-python-script-for-cielab-color-sampling-and-conversion" class="nav-link" data-scroll-target="#python-script-for-cielab-color-sampling-and-conversion">Python Script for CIELab Color Sampling and Conversion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="color-spaces" class="level2">
<h2 class="anchored" data-anchor-id="color-spaces">Color spaces</h2>
<p>Let‚Äôs break down the concept of a color space into simple terms first, and then delve into the technical aspects.</p>
<section id="layman-terms" class="level3">
<h3 class="anchored" data-anchor-id="layman-terms">Layman terms</h3>
<p>Imagine you have a huge box of crayons with every color you can think of. A color space is like picking a smaller box from this huge collection. This smaller box contains a specific range of colors that you can use for a particular purpose, like drawing a picture or printing a photograph.</p>
<p>Just like you can‚Äôt use the colors outside your chosen crayon box, a color space defines the range of colors (or ‚Äògamut‚Äô) that can be represented or reproduced in a medium, whether it‚Äôs a computer screen, a camera, or a printed page. Different color spaces are like different sets of crayons, each suited for different tasks or equipment.</p>
</section>
<section id="technically-speaking" class="level3">
<h3 class="anchored" data-anchor-id="technically-speaking">Technically speaking</h3>
<p>A color space is a specific organization of colors, which in a more formal setting can be described by the mathematics of color models. It‚Äôs a three-dimensional model where each color is represented by a unique point within a coordinate system.</p>
<p>Technically, a color space maps out a range of colors in terms of intensity values across different channels (like red, green, blue in RGB color space). It provides a standard by which we can define and reproduce colors across different devices and mediums.</p>
<p>Components of a color space are:</p>
<ul>
<li><p>Primary Colors: These are the reference colors used in a color model. For example, RGB uses red, green, and blue as primary colors.</p></li>
<li><p>Gamut: This is the complete subset of colors that can be accurately represented within a given color space.</p></li>
<li><p>Color model: The underlying mathematical model describing the way colors can be represented as tuples of numbers (e.g., RGB, CMYK, HSL).</p></li>
<li><p>Perceptual uniformity: Some color spaces (like CIELab) are designed to be perceptually uniform. This means that a change of the same amount in a color value should produce a change of about the same visual importance.</p></li>
<li><p>Device-dependent vs device-independent: Color spaces can be device-dependent (like Adobe RGB, specific to monitors and printers) or device-independent (like CIELab), which abstracts color definitions from specific devices, allowing for consistent color reproduction across different devices.</p></li>
<li><p>Standardization: Standards such as sRGB are established to ensure uniform color representation across different digital devices and platforms, crucial in digital media and web content.</p></li>
</ul>
<p>In essence, a color space is a framework that allows for consistent and precise color representation, ensuring that the colors you see and use are the same across various devices and mediums.</p>
</section>
</section>
<section id="rgb-and-srgb-color-spaces" class="level2">
<h2 class="anchored" data-anchor-id="rgb-and-srgb-color-spaces">RGB and sRGB Color Spaces</h2>
<p>The RGB color space, foundational in the realm of digital imaging and display technologies, represents colors through the additive combination of the red (R), green (G), and blue (B) primary colors. For instance, combining red and green light produces yellow, red and blue produce magenta, and green and blue create cyan.</p>
<p>The intensity of each primary color, typically represented by a value ranging from 0 to 255 in digital systems, combines to produce a wide spectrum of colors. This model is intrinsically linked to the way human vision perceives color through cone cells sensitive to these three color wavelengths.</p>
<p>In the digital context, the RGB color space is device-dependent, meaning the exact color rendition can vary across different devices like monitors, cameras, and scanners. This variation stems from differences in how devices are manufactured and the specific characteristics of their RGB color filters. As a result, a color seen on one RGB device might not look exactly the same on another, leading to inconsistencies in color reproduction.</p>
<p>sRGB, which stands for standard Red Green Blue, emerged as a standardization effort to tackle these inconsistencies, especially pertinent in consumer electronics and online content. Developed jointly by HP and Microsoft in 1996, sRGB provides a specific implementation of the RGB color space with well-defined chromaticities for the red, green, and blue primaries. It also specifies a transfer function (or gamma curve), which defines how the numerical values of R, G, and B map to actual luminance levels. In sRGB, this curve is a piecewise function: a linear segment in the darkest shades and a power function in the rest of the range, with a gamma value of approximately 2.2, which is close to the perceptual linearization of human vision.</p>
<p>One of the limitations of sRGB is its relatively narrow color gamut compared to other color spaces like Adobe RGB or ProPhoto RGB. This limitation is particularly evident in highly saturated colors, where sRGB can fail to reproduce the vibrancy seen in the real world or in wider-gamut color spaces. However, its ubiquity and standardization across a wide array of devices and software make it the default choice for web content, consumer electronics, and standard digital photography. Its compatibility and predictability across different platforms ensure that colors rendered in sRGB appear reasonably consistent on most modern displays, which are typically calibrated to this color space.</p>
<p>In current usage, while professional-grade equipment and applications might opt for wider-gamut color spaces like Adobe RGB, sRGB remains the principal color space for web-based content, ensuring that colors are represented uniformly across different viewing platforms. In essence, while RGB lays the foundation for digital color representation, sRGB standardizes this representation for widespread and consistent use in digital media.</p>
<section id="number-of-colors" class="level3">
<h3 class="anchored" data-anchor-id="number-of-colors">Number of Colors</h3>
<p>In both RGB and sRGB color spaces, the total number of colors that can be represented depends on the bit depth per channel. In typical scenarios where each of the RGB channels (Red, Green, Blue) is allocated 8 bits (which is quite common in consumer electronics and digital imagery), each channel can represent 2^8 or 256 distinct levels of intensity.</p>
<p>Since RGB and sRGB both use three channels, the total number of representable colors is calculated by multiplying the number of possibilities in each channel. So, the calculation would be:</p>
<blockquote class="blockquote">
<p>256 (Red) x 256 (Green) x 256 (Blue) = 16,777,216 total colors</p>
</blockquote>
<p>Therefore, both RGB and sRGB color spaces can represent approximately 16.7 million different colors when using an 8-bit per channel system. It‚Äôs important to note that this count is the same for both RGB and sRGB because the difference between these two spaces lies not in the number of colors they can represent but in how they interpret these colors (i.e., the color gamut and the mapping of color values to actual colors on a screen).</p>
<p>For images with higher bit depth per channel (like 10-bit, 12-bit, etc.), the total number of representable colors increases exponentially, allowing for a much richer and more nuanced color representation. However, the standard in most common digital applications remains 8-bit per channel.</p>
<p>Here are some examples of how certain colors are represented within this range:</p>
<ol type="1">
<li><p>Red: Pure red is represented as (255, 0, 0). This means the red channel is at its maximum, while green and blue are at their minimum.</p></li>
<li><p>Green: Pure green is (0, 255, 0), with the green channel at maximum and the others at minimum.</p></li>
<li><p>Blue: Pure blue appears as (0, 0, 255), with the blue channel at its maximum.</p></li>
<li><p>Yellow: Yellow is a mix of red and green, so it‚Äôs represented as (255, 255, 0).</p></li>
<li><p>Cyan: Cyan is a mix of green and blue, shown as (0, 255, 255).</p></li>
<li><p>Magenta: Magenta combines red and blue, represented as (255, 0, 255).</p></li>
<li><p>Black: Black is the absence of color in the RGB space, so all channels are at their minimum: (0, 0, 0).</p></li>
<li><p>White: White is the combination of all colors at their maximum intensity, so it‚Äôs (255, 255, 255).</p></li>
<li><p>Gray: Shades of gray are created when all three channels have equal intensity. For example, a medium gray might be (128, 128, 128).</p></li>
<li><p>Orange: Orange can vary in shade but is generally a mix of red and some green, such as (255, 165, 0).</p></li>
</ol>
<p>These examples provide a basic understanding of how different colors are represented in the RGB color space. By adjusting the intensity values of the red, green, and blue channels, a wide range of colors can be created.</p>
</section>
<section id="display-standards" class="level3">
<h3 class="anchored" data-anchor-id="display-standards">Display Standards</h3>
<p>The standard for most consumer TVs and monitors is typically an 8-bit per channel RGB color system. This means that each of the three color channels (Red, Green, Blue) can display 256 levels of intensity (from 0 to 255), resulting in 16,777,216 possible colors (256^3 = 16,777,216). This is often referred to as ‚ÄúTrue Color‚Äù or ‚Äú24-bit color‚Äù (8 bits x 3 channels).</p>
<p>However, there is an increasing trend towards higher bit depths in newer, higher-end TVs and monitors, especially those geared towards professional use or high-quality entertainment experiences. These include:</p>
<ol type="1">
<li><p>10-bit color depth: With 10 bits per channel, a display can produce 1,024 levels of intensity per channel, resulting in a total of about 1.07 billion colors (1,024^3). This is significant for professional-grade monitors used in color-critical tasks like photo and video editing.</p></li>
<li><p>12-bit color depth: Some very high-end and specialized monitors and TVs offer 12-bit color, with 4,096 levels per channel, totaling around 68.7 billion colors (4,096^3). These are less common and are typically used in professional and cinematic settings.</p></li>
<li><p>HDR (high dynamic range): Modern high-end TVs and some monitors support HDR standards like HDR10, Dolby Vision, or HDR10+, which often use a 10-bit or even 12-bit color depth. HDR doesn‚Äôt just increase the number of colors; it also enhances the contrast and brightness, leading to a more dynamic and realistic image.</p></li>
<li><p>Wide color gamut: Apart from bit depth, many newer displays also support a wider color gamut (such as DCI-P3 or Rec. 2020), meaning they can display a broader range of colors than the traditional sRGB gamut.</p></li>
</ol>
<p>It‚Äôs important to note that to fully utilize these higher color depths and wider gamuts, the content being displayed (like movies, TV shows, or games) must also be created to support these standards, and the device‚Äôs hardware and software must be compatible with these advanced color features.</p>
</section>
<section id="complementary-colors" class="level3">
<h3 class="anchored" data-anchor-id="complementary-colors">Complementary Colors</h3>
<p>A complementary color is defined as a color that, when combined with a given color, produces a neutral color (white, gray, or black). Complementary colors are positioned opposite each other on the color wheel, a tool used to represent the relationships between colors.</p>
<p>In the RGB model, which is used for light-emitting sources like computer screens, the primary colors are red, green, and blue. The complementary color of red is cyan (a mix of green and blue), green‚Äôs complementary color is magenta (a mix of red and blue), and blue‚Äôs complementary color is yellow (a mix of red and green). When combined in this model, a color and its complementary produce white light. For example, combining red light with cyan light will result in white light.</p>
</section>
<section id="other-notations-for-rgb-color-space" class="level3">
<h3 class="anchored" data-anchor-id="other-notations-for-rgb-color-space">Other Notations for RGB Color Space</h3>
<section id="hex" class="level4">
<h4 class="anchored" data-anchor-id="hex">HEX</h4>
<p>HEX color notation is a staple in web and digital design, providing a succinct way to represent RGB colors. It encodes RGB values into a 6-digit hexadecimal number, prefaced by a hash symbol. Each pair of digits in this format, ranging from 00 to FF, corresponds to the red, green, and blue components of a color. This compact and efficient representation makes HEX particularly popular in coding and digital design environments.</p>
</section>
<section id="decimal" class="level4">
<h4 class="anchored" data-anchor-id="decimal">Decimal</h4>
<p>Decimal color notation is another way to describe RGB colors, similar to HEX but using decimal numbers. It presents colors with three values, each ranging from 0 to 255, for the red, green, and blue components. This approach is particularly user-friendly in programming and digital contexts, where working with decimal numbers is common.</p>
</section>
</section>
</section>
<section id="cmy-and-cmyk-color-spaces" class="level2">
<h2 class="anchored" data-anchor-id="cmy-and-cmyk-color-spaces">CMY and CMYK Color Spaces</h2>
<p>The CMY and CMYK color models are primarily used in color printing and are fundamentally different from the RGB color model, which is used in electronic displays. Both CMY and CMYK are based on the subtractive color model, unlike the additive nature of RGB.</p>
<section id="cmy" class="level3">
<h3 class="anchored" data-anchor-id="cmy">CMY</h3>
<p>CMY operates on the subtractive principle where colors are created by subtracting light. This model is based on the way light is absorbed and reflected off surfaces. It uses cyan, magenta, and yellow as its primary colors. These are the complementary colors of red, green, and blue (RGB), respectively.</p>
<p>In CMY, colors are created by partially or entirely subtracting the primary colors of light. For example, subtracting green from white light leaves magenta, subtracting red gives cyan, and subtracting blue yields yellow.</p>
<p>CMY is used in color printing. By combining varying amounts of cyan, magenta, and yellow, a wide range of colors can be reproduced. When all three colors are combined at their full intensity, they theoretically produce black, but in practice, they produce a muddy dark brown or gray.</p>
</section>
<section id="cmyk" class="level3">
<h3 class="anchored" data-anchor-id="cmyk">CMYK</h3>
<p>CMYK adds a fourth component, ‚Äúkey‚Äù (black), to the CMY model. The ‚ÄòK‚Äô component is used because pure black cannot be created reliably through the combination of CMY inks due to imperfections in ink pigments. Adding black ink allows for deeper, more accurate, and consistent blacks.</p>
<p>CMYK creates colors through a subtractive process by layering different amounts of cyan, magenta, yellow, and black ink on paper. The more ink used, the darker the color becomes. Black ink in CMYK is also more economical and provides better shadow detail than CMY, making it a more efficient color model for full-color printing.</p>
</section>
<section id="differences-with-rgb" class="level3">
<h3 class="anchored" data-anchor-id="differences-with-rgb">Differences with RGB</h3>
<p>The most important difference is that RGB is an additive color model used in electronic displays, where colors are created by combining light. CMY and CMYK are subtractive, used in printing, where colors are created by subtracting light. Or, with different words, RGB is used for digital screens like monitors, TVs, and cameras, where light is emitted directly. CMY and CMYK are used in printing on physical media, where light is reflected.</p>
<p>In RGB, black is the absence of light, while in CMYK, black is a separate ink component for deeper and more uniform blacks.</p>
</section>
</section>
<section id="hsl-and-hsv-color-spaces" class="level2">
<h2 class="anchored" data-anchor-id="hsl-and-hsv-color-spaces">HSL and HSV Color Spaces</h2>
<p>Both HSL (hue, saturation, lightness) and HSV (hue, saturation, value) are color models used to represent the RGB color space in terms that are more intuitive for humans to understand and manipulate. These models describe colors in terms of their shade (hue), intensity (saturation), and brightness (lightness/value):</p>
<ul>
<li><p>HSL:</p>
<ul>
<li><p>Hue: Represents the type of color, or the color itself. It is typically measured in degrees around a color wheel, with red at 0¬∞, green at 120¬∞, and blue at 240¬∞.</p></li>
<li><p>Saturation: Indicates the intensity or purity of the color. In HSL, saturation ranges from 0%, which is a shade of gray, to 100%, which is the full color.</p></li>
<li><p>Lightness: Also known as luminance, lightness defines how light or dark a color is. A lightness of 0% is black, 50% is the true color, and 100% is white.</p></li>
</ul></li>
<li><p>HSV:</p>
<ul>
<li><p>Hue: Similar to HSL, it defines the color itself.</p></li>
<li><p>Saturation: Measures the intensity or vibrancy of the color. It ranges from 0%, which is completely unsaturated (gray), to 100%, which is the most saturated form of the color.</p></li>
<li><p>Value: Also known as brightness, it represents the brightness or darkness of the color. A value of 0% is black, and 100% is the brightest form of the color.</p></li>
</ul></li>
</ul>
<section id="differences-with-rgb-1" class="level4">
<h4 class="anchored" data-anchor-id="differences-with-rgb-1">Differences with RGB</h4>
<p>RGB represents colors by specifying the intensity of each primary color, making it less intuitive for tasks like adjusting brightness or saturation. HSL and HSV are transformations of the RGB color model designed to be more intuitive for human perception. They allow for easier adjustments of color properties like shade, intensity, and brightness.</p>
<p>HSL and HSV are often used in color picker tools in graphic design software because they offer a more user-friendly way to select and manipulate colors. Moreover, they separate the chromatic information (hue and saturation) from the achromatic information (lightness/value), unlike RGB where all three parameters mix chromatic and achromatic components.</p>
<p>While RGB is suited for electronic displays and color mixing with light, HSL and HSV are more suited for tasks that involve adjusting and fine-tuning colors, like in graphic design and photo editing. In essence, HSL and HSV are used to represent the same colors as RGB but in a way that aligns more closely with how people think about and perceive colors. This makes them particularly useful in interfaces and applications where users need to make precise adjustments to color properties.</p>
</section>
</section>
<section id="yiq-and-yuv-color-spaces" class="level2">
<h2 class="anchored" data-anchor-id="yiq-and-yuv-color-spaces">YIQ and YUV Color Spaces</h2>
<p>YIQ and YUV are color spaces primarily used in the broadcasting industry, particularly in television systems. Both are designed to split a color signal into luminance and chrominance components, but they are used in different television standards.</p>
<p>The YIQ color space was predominantly used in the NTSC color television system, mainly in North America. In YIQ, ‚ÄòY‚Äô stands for the luminance component, which represents the brightness of the image. The ‚ÄòI‚Äô and ‚ÄòQ‚Äô components represent the chrominance or color information. ‚ÄòI‚Äô carries information about the orange-cyan range, while ‚ÄòQ‚Äô carries information about the green-magenta range. The separation of luminance and chrominance in YIQ allowed NTSC broadcasts to be compatible with black-and-white televisions. Luminance (Y) could be displayed by black-and-white TVs, while color TVs could use all three components (Y, I, Q) to display the full color image.</p>
<p>YUV is similar to YIQ in that it also separates the color signal into luminance (Y) and two chrominance components (U and V). YUV is used in the PAL and SECAM color television systems, prevalent in Europe and other parts of the world. The ‚ÄòY‚Äô component, like in YIQ, represents the image brightness. ‚ÄòU‚Äô represents the blue-luminance difference, and ‚ÄòV‚Äô represents the red-luminance difference. This separation was also designed for compatibility with black-and-white TVs, with the added advantage of better color quality compared to NTSC, although at a slightly lower resolution.</p>
<p>Both YIQ and YUV were developed to maximize the efficiency of color transmission in broadcasting and to ensure backward compatibility with black-and-white television systems. They differ from RGB, which is used in electronic displays and combines red, green, and blue light to produce colors. While RGB is more straightforward for generating colors electronically, YIQ and YUV are more efficient for broadcasting purposes because they separate the brightness of the image from the color information, which can be more efficiently compressed and transmitted.</p>
<p>The use of YIQ has declined with the shift towards digital broadcasting, which often uses other color spaces like YCbCr. YUV, on the other hand, is still relevant in many video processing applications and is closely related to the YCbCr color space used in digital video.</p>
</section>
<section id="cie-color-spaces" class="level2">
<h2 class="anchored" data-anchor-id="cie-color-spaces">CIE Color Spaces</h2>
<p>The International Commission on Illumination, known as CIE (Commission Internationale de l‚Äô√âclairage), is a significant organization in the field of color and lighting standards. CIE has introduced several critical color spaces, including XYZ, CIELab, and CIELCh, each serving unique purposes in color science.</p>
<section id="xyz" class="level3">
<h3 class="anchored" data-anchor-id="xyz">XYZ</h3>
<p>The CIE XYZ color space, established in 1931, is foundational in the field of colorimetry. It‚Äôs a device-independent model representing color perceptions of a standard observer. In XYZ, ‚ÄòX‚Äô represents a mix of cone response curves, ‚ÄòY‚Äô denotes luminance, and ‚ÄòZ‚Äô corresponds to blue stimulation. This color space serves as a reference, allowing for the translation of colors between different systems and devices. The gamut of XYZ encompasses all perceivable colors, making it a comprehensive standard for color representation.</p>
</section>
<section id="cielab" class="level3">
<h3 class="anchored" data-anchor-id="cielab">CIELab</h3>
<p>The CIELab (or Lab) color space, introduced in 1976, with its broad gamut and perceptually uniform characteristics, is designed to encompass the entire range of colors visible to the human eye. This extensive gamut means it can represent colors that are outside the range of many display systems and printers.</p>
<p>In CIELab:</p>
<ul>
<li><p>The ‚ÄòL‚Äô component (lightness) ranges from 0 to 100, where 0 represents black, and 100 represents white. This vertical axis accounts for the luminance of colors.</p></li>
<li><p>The ‚Äòa‚Äô component operates on a green to red axis. Negative values of ‚Äòa‚Äô indicate green, while positive values indicate red.</p></li>
<li><p>The ‚Äòb‚Äô component works on a blue to yellow axis, with negative values representing blue and positive values indicating yellow.</p></li>
</ul>
<p>This structure allows for a precise and detailed representation of colors. For example:</p>
<ul>
<li><p>A strong green might be denoted as (L=50, a=-50, b=50), representing a mid-level lightness with a strong green component and a touch of yellow.</p></li>
<li><p>A deep red could be represented as (L=40, a=60, b=30), indicating a darker shade (lower lightness) with a dominant red component and some yellow.</p></li>
</ul>
<p>The notation in CIELab is quite distinct from RGB. While RGB specifies the intensity of red, green, and blue light to create colors (like RGB(255, 0, 0) for bright red), CIELab describes colors in terms of lightness and color-opponent dimensions, which align more closely with the human perception of colors.</p>
<p>This perceptual uniformity ‚Äì where a given numerical change corresponds to a roughly equal perceptual change in color ‚Äì is a key feature of CIELab. It ensures that when colors are altered or compared in this space, the perceived differences are consistent across the color spectrum.</p>
<p>CIELab‚Äôs broad gamut and perceptual uniformity make it a preferred choice in industries where accurate color differentiation and measurement are critical, like paint manufacturing, textile production, and quality control in various product design processes. It‚Äôs also commonly used in digital imaging and photography for color correction and editing, as it offers more intuitive control over color adjustments than RGB.</p>
<p>A classic example of colors that can be represented in CIELab but are often outside the gamut of many RGB devices are certain highly saturated cyans and blues. For instance, a very bright, saturated cyan might be represented in CIELab as something like (L=90, a=-40, b=-15). This color would be extremely vivid and might not be accurately displayed on a standard RGB monitor, which would struggle to reproduce its intensity and saturation. Similarly, some extremely bright and saturated yellows and greens can also fall outside the typical RGB gamut. These colors are so vivid that they can only be seen under intense lighting conditions, such as direct sunlight, and cannot be fully replicated on standard digital displays.</p>
</section>
<section id="cielch" class="level3">
<h3 class="anchored" data-anchor-id="cielch">CIELCh</h3>
<p>CIELCh is a color space closely related to CIELab but represented in cylindrical coordinates instead of Cartesian ones. It‚Äôs derived from the CIELab color space and is designed to represent color in a way that‚Äôs more intuitive and aligned with how humans perceive color changes.</p>
<p>In CIELCh, the components represent:</p>
<ol type="1">
<li><p>L (lightness): Just like in CIELab, ‚ÄòL‚Äô in CIELCh represents the lightness of the color, with 0 being black and 100 being white.</p></li>
<li><p>C (chroma): This is essentially the saturation of the color. Chroma in CIELCh is derived from the a* and b* components of CIELab. It represents the vividness or intensity of the color. Higher chroma values indicate more intense, vivid colors, while lower chroma values result in duller, more washed-out colors.</p></li>
<li><p>h (hue angle): Instead of using the a* and b* Cartesian coordinates to define the hue, CIELCh uses an angle in a cylindrical space. This hue angle starts from the positive a* axis and is usually measured in degrees (0¬∞ to 360¬∞). Different values correspond to different hues (colors), similar to positions on a traditional color wheel. For example, 0¬∞ or 360¬∞ represents red/magenta, 90¬∞ represents yellow, 180¬∞ represents green, and 270¬∞ represents blue.</p></li>
</ol>
<p>The transformation from CIELab to CIELCh is a conversion from Cartesian to cylindrical coordinates. The lightness (L) remains the same, but the a* and b* values in CIELab are converted to chroma (C) and hue (h) in CIELCh. The formulae for these conversions involve trigonometric functions where chroma (C) is calculated as the square root of (a*^2 + b*^2), and the hue angle (h) is calculated using the arctan function.</p>
<p>CIELCh is useful in various applications that require intuitive color adjustment and selection. The cylindrical representation makes it easier to understand and manipulate hue and saturation independently of lightness, which aligns more closely with how people think about and use color, especially in fields like graphic design, painting, and digital media.</p>
<p>This color space is particularly favored for tasks where color harmony and balance are important, as it allows for a straightforward manipulation of color relationships and contrasts.</p>
</section>
<section id="cieluv" class="level3">
<h3 class="anchored" data-anchor-id="cieluv">CIELUV</h3>
<p>CIELUV is a color space introduced by the International Commission on Illumination (CIE) to enable more effective color communication, especially for light emitting or reflecting surfaces. It‚Äôs part of the CIE 1976 color spaces, which also include CIELab.</p>
<p>The name CIELUV comes from the CIE L<em>u</em>v* color space. It‚Äôs designed similarly to CIELab, with ‚ÄòL‚Äô representing lightness. However, while CIELab uses ‚Äòa‚Äô and ‚Äòb‚Äô for color-opponent dimensions, CIELUV uses ‚Äòu*‚Äô and ‚Äòv*‚Äô for chromaticity. These dimensions are based on the CIE 1960 u-v chromaticity diagram, which is a projection of the CIE XYZ color space.</p>
<p>CIELUV is particularly useful for applications like lighting design, video, and other emissive display applications where color gamut is crucial. One of its strengths lies in its ability to accurately represent highly saturated colors, a limitation in the CIELab color space.</p>
<p>In terms of technical details, the ‚ÄòL‚Äô in CIELUV represents the perceived lightness, similar to CIELab. The ‚Äòu*‚Äô and ‚Äòv*‚Äô coordinates, however, are calculated differently, focusing on chromaticity. This difference stems from the way the two color spaces project the XYZ space into the color-opponent dimensions. In CIELUV, these projections are designed to better represent the way we perceive color in light-emitting sources.</p>
<p>When comparing CIELUV to CIELab, the key difference lies in their treatment of chromaticity and the types of applications they‚Äôre best suited for. CIELab is generally preferred for surface colors (like paint or ink), where color is a result of light reflecting off an object. In contrast, CIELUV is more suited for light-emitting sources (like displays or lights), where color is produced by light itself.</p>
<p>Both color spaces derive from the XYZ model and share the lightness dimension (L*). However, their approach to chromaticity makes them suitable for different applications and types of color processing. CIELUV‚Äôs emphasis on chromaticity makes it a valuable tool in industries dealing with light sources, displays, and environments where the light‚Äôs color itself is the primary concern.</p>
</section>
<section id="lchab" class="level3">
<h3 class="anchored" data-anchor-id="lchab">LCH(ab)</h3>
<p>The LCH(ab) color space, often simply referred to as LCH, is a color model derived from the CIELab color space. It represents colors in a more intuitive way compared to the Cartesian coordinates (a* and b*) used in CIELab. The LCH color model is based on cylindrical coordinates rather than Cartesian coordinates and consists of three components:</p>
<ol type="1">
<li><p>Lightness (L): Similar to the L* in CIELab, it represents the lightness of the color, where 0 is black, 100 is white, and values in between represent various shades of gray.</p></li>
<li><p>Chroma (C): Chroma in LCH is analogous to saturation in other color models. It represents the intensity or purity of the color. Higher chroma values indicate more vibrant colors, while lower values result in more muted tones.</p></li>
<li><p>Hue (H): Hue is represented as an angle (in degrees) around a color wheel. It defines the type of color (such as red, blue, green, yellow, etc.). In LCH, hue starts at 0 degrees for red and moves through the spectrum, with green at 120 degrees, blue at 240 degrees, and so forth.</p></li>
</ol>
<p>The LCH color space is particularly useful in applications where understanding and manipulating the color relationships and harmonies are important. It‚Äôs often used in graphic design, painting, and digital media for this reason. By separating the color components in this way, LCH allows designers to adjust hue and chroma independently of lightness, which can be more intuitive than working with the a* and b* coordinates in CIELab.</p>
<p>In essence, LCH(ab) offers a perceptually-based approach to color representation, aligning closely with how humans perceive and interpret color differences, making it a valuable tool in color-sensitive work.</p>
</section>
</section>
<section id="color-space-as-a-mathematical-space-subset" class="level2">
<h2 class="anchored" data-anchor-id="color-space-as-a-mathematical-space-subset">Color Space as a Mathematical Space Subset</h2>
<p>The concept of whether color spaces are subsets of integer or real mathematical spaces can be understood in terms of how they represent color values and the precision with which they operate.</p>
<ol type="1">
<li><p>RGB: RGB, commonly used in digital displays and imaging, typically uses integer values in practical applications, especially in 8-bit per channel systems where each color (Red, Green, Blue) is represented by an integer from 0 to 255. However, in more precise applications, such as high dynamic range (HDR) imaging or in professional color grading, RGB values can be represented in a floating-point format (real numbers), allowing for a finer gradation and a wider range of color intensities.</p></li>
<li><p>CIELab and CIELuv: Both CIELab and CIELuv are part of the CIE 1976 color space. They are generally considered to be subsets of the real number space. The L*, a*, b* (CIELab) and L*, u*, v* (CIELuv) coordinates are typically represented as real numbers to allow for a high degree of precision, which is crucial in color matching and colorimetric applications. This representation aligns with their design as perceptually uniform spaces, where small changes in values correspond to consistent perceptual differences in color.</p></li>
<li><p>HEX: The HEX color notation, used predominantly in web design, is based on integer values. It is essentially a hexadecimal representation of RGB values, where each color channel is represented by two hexadecimal digits, corresponding to an integer value between 0 and 255.</p></li>
<li><p>CIE XYZ: The CIE XYZ color space, which serves as a foundation for many other color spaces, including CIELab and CIELuv, represents colors using real numbers. This representation allows for a high degree of precision and is important for scientific and industrial applications where accurate color measurement and reproduction are necessary.</p></li>
<li><p>YIQ, YUV, and others: Used primarily in broadcasting and video processing, these color spaces often use real numbers for greater precision, especially in professional applications. However, for standard television broadcast and consumer electronics, these values are typically quantized into integer values.</p></li>
</ol>
<p>In summary, while practical implementations of these color spaces in digital devices often use integer values for ease of processing and storage, the theoretical models of most advanced color spaces, especially those used in colorimetry and professional applications, rely on real numbers for greater precision and a more accurate representation of color.</p>
</section>
<section id="color-spaces-conversion-libraries" class="level2">
<h2 class="anchored" data-anchor-id="color-spaces-conversion-libraries">Color Spaces Conversion Libraries</h2>
<section id="python-colormath" class="level3">
<h3 class="anchored" data-anchor-id="python-colormath">python-colormath</h3>
<p><a href="https://python-colormath.readthedocs.io/en/latest/" title="python-colormath">python-colormath</a> is a simple Python module that spares the user from directly dealing with color math. Some features include:</p>
<ul>
<li><p>Support for a wide range of color spaces. A good chunk of the CIE spaces, RGB, HSL/HSV, CMY/CMYK, and many more.</p></li>
<li><p>Conversions between the various color spaces. For example, XYZ to sRGB, Spectral to XYZ, CIELab to Adobe RGB.</p></li>
<li><p>Calculation of color difference. All CIE Delta E functions, plus CMC.</p></li>
<li><p>Chromatic adaptations (changing illuminants).</p></li>
<li><p>RGB to hex and vice-versa.</p></li>
<li><p>16-bit RGB support.</p></li>
<li><p>Runs on Python 2.7 and Python 3.3+.</p></li>
</ul>
<p>To convert a color from sRGB to CIELab using the Python <code>colormath</code> library, you first need to ensure that <code>colormath</code> is installed in your Python environment. You can install it using pip:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="ex">pip</span> install colormath</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Once <code>colormath</code> is installed, you can use it to perform the conversion. Here‚Äôs a simple example:</p>
<div class="sourceCode" id="annotated-cell-2"><pre class="sourceCode numberSource python code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode python"><span id="annotated-cell-2-1"><a href="#annotated-cell-2-1"></a><span class="im">from</span> colormath.color_objects <span class="im">import</span> sRGBColor, LabColor, XYZColor, <span class="op">\</span></span>
<span id="annotated-cell-2-2"><a href="#annotated-cell-2-2"></a>                                    LCHabColor, LCHuvColor, HSVColor, <span class="op">\</span></span>
<span id="annotated-cell-2-3"><a href="#annotated-cell-2-3"></a>                                    CMYColor, CMYKColor</span>
<span id="annotated-cell-2-4"><a href="#annotated-cell-2-4"></a><span class="im">from</span> colormath.color_conversions <span class="im">import</span> convert_color</span>
<span id="annotated-cell-2-5"><a href="#annotated-cell-2-5"></a></span>
<span id="annotated-cell-2-6"><a href="#annotated-cell-2-6"></a><span class="co"># Define an sRGB color (is_upscaled=True if you're using 0-255 range)</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-2-7" class="code-annotation-target"><a href="#annotated-cell-2-7"></a>rgb <span class="op">=</span> sRGBColor(<span class="fl">128.</span>, <span class="fl">0.</span>, <span class="fl">128.</span>, is_upscaled<span class="op">=</span><span class="va">True</span>)</span>
<span id="annotated-cell-2-8"><a href="#annotated-cell-2-8"></a></span>
<span id="annotated-cell-2-9"><a href="#annotated-cell-2-9"></a><span class="co"># Convert the sRGB color to other color spaces</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-2-10" class="code-annotation-target"><a href="#annotated-cell-2-10"></a>lab <span class="op">=</span> convert_color(rgb, LabColor)      <span class="co"># CIELab</span></span>
<span id="annotated-cell-2-11"><a href="#annotated-cell-2-11"></a>xyz <span class="op">=</span> convert_color(rgb, XYZColor)      <span class="co"># XYZ </span></span>
<span id="annotated-cell-2-12"><a href="#annotated-cell-2-12"></a>lch_ab <span class="op">=</span> convert_color(rgb, LCHabColor) <span class="co"># LCH(ab)</span></span>
<span id="annotated-cell-2-13"><a href="#annotated-cell-2-13"></a>lch_uv <span class="op">=</span> convert_color(rgb, LCHuvColor) <span class="co"># LCH(uv)</span></span>
<span id="annotated-cell-2-14"><a href="#annotated-cell-2-14"></a>hsv <span class="op">=</span> convert_color(rgb, HSVColor)      <span class="co"># HSV</span></span>
<span id="annotated-cell-2-15"><a href="#annotated-cell-2-15"></a>cmy <span class="op">=</span> convert_color(rgb, CMYColor)      <span class="co"># CMY</span></span>
<span id="annotated-cell-2-16"><a href="#annotated-cell-2-16"></a>cmyk <span class="op">=</span> convert_color(rgb, CMYKColor)    <span class="co"># CMYK</span></span>
<span id="annotated-cell-2-17"><a href="#annotated-cell-2-17"></a></span>
<span id="annotated-cell-2-18"><a href="#annotated-cell-2-18"></a><span class="co"># Print the colors in different color spaces  </span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-2" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-2-19" class="code-annotation-target"><a href="#annotated-cell-2-19"></a><span class="bu">print</span>(<span class="st">"CIELab: "</span>, lab)</span>
<span id="annotated-cell-2-20"><a href="#annotated-cell-2-20"></a><span class="co"># CIELab:  LabColor (lab_l:29.7843 lab_a:58.9285 lab_b:-36.4932) </span></span>
<span id="annotated-cell-2-21"><a href="#annotated-cell-2-21"></a><span class="bu">print</span>(<span class="st">"XYZ: "</span>, xyz)         </span>
<span id="annotated-cell-2-22"><a href="#annotated-cell-2-22"></a><span class="co"># XYZ:  XYZColor (xyz_x:0.1280 xyz_y:0.0615 xyz_z:0.2093)</span></span>
<span id="annotated-cell-2-23"><a href="#annotated-cell-2-23"></a><span class="bu">print</span>(<span class="st">"LCH(ab): "</span>, lch_ab)  </span>
<span id="annotated-cell-2-24"><a href="#annotated-cell-2-24"></a><span class="co"># LCH(ab):  LCHabColor (lch_l:29.7843 lch_c:69.3132 lch_h:328.2310)</span></span>
<span id="annotated-cell-2-25"><a href="#annotated-cell-2-25"></a><span class="bu">print</span>(<span class="st">"LCH(uv): "</span>, lch_uv)  </span>
<span id="annotated-cell-2-26"><a href="#annotated-cell-2-26"></a><span class="co"># LCH(uv):  LCHuvColor (lch_l:29.7843 lch_c:67.8446 lch_h:307.7154)</span></span>
<span id="annotated-cell-2-27"><a href="#annotated-cell-2-27"></a><span class="bu">print</span>(<span class="st">"HSV: "</span>, hsv)         </span>
<span id="annotated-cell-2-28"><a href="#annotated-cell-2-28"></a><span class="co"># HSV:  HSVColor (hsv_h:300.0000 hsv_s:1.0000 hsv_v:0.5020)</span></span>
<span id="annotated-cell-2-29"><a href="#annotated-cell-2-29"></a><span class="bu">print</span>(<span class="st">"CMY: "</span>, cmy)         </span>
<span id="annotated-cell-2-30"><a href="#annotated-cell-2-30"></a><span class="co"># CMY:  CMYColor (cmy_c:0.4980 cmy_m:1.0000 cmy_y:0.4980)</span></span>
<span id="annotated-cell-2-31"><a href="#annotated-cell-2-31"></a><span class="bu">print</span>(<span class="st">"CMYK: "</span>, cmyk)       </span>
<span id="annotated-cell-2-32"><a href="#annotated-cell-2-32"></a><span class="co"># CMYK:  CMYKColor (cmyk_c:0.0000 cmyk_m:1.0000 cmyk_y:0.0000 cmyk_k:0.4980)</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-2" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="7" data-code-annotation="1">An sRGB color is defined with the red, green, and blue components. If you‚Äôre using values in the 0-255 range, set <code>is_upscaled=True</code> so that <code>colormath</code> knows to scale them down to 0-1.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="10" data-code-annotation="2">The <code>convert_color</code> function is used to convert the defined sRGB color to the CIELab color space.</span>
</dd>
<dt data-target-cell="annotated-cell-2" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-2" data-code-lines="19" data-code-annotation="3">Finally, the resulting CIELab color is printed out. Other conversions follow.</span>
</dd>
</dl>
<p>The output will be the CIELab representation of the given sRGB color. Keep in mind that <code>colormath</code> handles these conversions assuming standard conditions and may not account for specific display or lighting characteristics unless explicitly specified.</p>
</section>
<section id="other-libraries" class="level3">
<h3 class="anchored" data-anchor-id="other-libraries">Other Libraries</h3>
<p>There are several other libraries in Python and other programming languages that can be used to convert between color spaces. Here are a few notable ones:</p>
<ol type="1">
<li><p>OpenCV (Python, C++, Java): Primarily known for its extensive functionalities in computer vision, OpenCV also offers color space conversion functions. It can handle conversions between various color spaces, including RGB, HSV, CIELab, and more.</p></li>
<li><p>Pillow (Python): The Pillow library, which is an extension of the Python Imaging Library (PIL), includes functions for converting images between different color spaces.</p></li>
<li><p>Color.js (JavaScript): A JavaScript library for color conversion and manipulation, it supports a wide range of color spaces and is particularly useful for web development.</p></li>
<li><p>D3.js (JavaScript): While primarily a library for producing interactive data visualizations, D3.js also includes methods for color space conversion, useful in the context of web design and visualizations.</p></li>
<li><p>Tinycolor (JavaScript): A small, fast library for color manipulation and conversion in JavaScript. It supports RGB, HSV, HSL, and HEX formats.</p></li>
<li><p>Colorspacious (Python): A Python library designed to convert and manipulate various color spaces with a focus on perceptual uniformity and color difference calculations.</p></li>
<li><p>Matplotlib (Python): Although mainly a plotting library, Matplotlib in Python can convert colors between RGB and other color spaces as part of its plotting functionalities.</p></li>
</ol>
<p>Each of these libraries has its own set of features and strengths, and the choice of library can depend on the specific requirements of your project, such as the programming language you‚Äôre using, the color spaces you need to work with, and the level of precision or control you need over the color conversion process.</p>
</section>
</section>
<section id="python-script-for-cielab-color-sampling-and-conversion" class="level2">
<h2 class="anchored" data-anchor-id="python-script-for-cielab-color-sampling-and-conversion">Python Script for CIELab Color Sampling and Conversion</h2>
<p>The Python script is designed to uniformly sample the CIELab color space and convert these samples to RGB. It also finds the nearest CIELab color to a given target color, either in CIELab or RGB space, and saves comparison charts. The script contains several key functions:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a>generate_uniform_lab_samples(n_samples)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This function generates uniformly distributed samples in the CIELab color space. It calculates the number of points per dimension based on the cubic root of the total number of desired samples, creating a grid of points in the CIELab space. If more points are generated than needed, it randomly samples from these points to get the desired number.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>lab_to_rgb(lab_arr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This function converts a batch of CIELab values to RGB and marks any colors that are approximated due to out-of-gamut issues. It uses the <code>skimage</code> library for the CIELab to RGB conversion and checks for any warnings during the conversion process, specifically looking for ‚Äúnegative Z values‚Äù which indicate an approximation.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a>rgb_to_lab(rgb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This function converts an RGB color to the CIELab color space. It normalizes the RGB values (assuming they are in the 0-255 range) and uses the <code>colormath</code> library to perform the conversion.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a>create_color_chart_with_spacing(lab_samples, rgb_samples, approx_flags, square_size_cm, spacing_cm, label_font_size, text_spacing_cm, save_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This function creates a square image containing color squares with spacing between them. Each square represents a color sample. It calculates the total image size considering the spacing and text space and then uses <code>matplotlib</code> to create and save the image.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a>find_nearest_color_lab(target_lab, generated_lab_samples)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This function finds the nearest CIELab color to a given target color among generated samples using Delta E. It compares the target color with each generated sample using the <code>delta_e_cie2000</code> function from the <code>colormath</code> library.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>save_comparison_chart(target_lab, nearest_lab, square_size, spacing, save_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This function saves an image with two squares: one for the target color and one for the nearest CIELab color. It draws the squares and saves the image using <code>matplotlib</code>.</p>
<p>The script also includes a section at the end for generating samples, converting them, and saving comparison charts.</p>
<p>This code is a comprehensive tool for exploring and visualizing the CIELab color space, its conversion to RGB, and the assessment of color proximity within this space.</p>
<p>Download the <a href="https://github.com/antomon/antomon.github.io/blob/b6d9822757db56d5906f1b3f8e6bb6e3040e7c3a/_static/posts/colors-101/cielab_sampler.ipynb">Jupyter notebook</a> or open it in Colab (click on the badge below) to sample the CIELab space and get the nearest sample of a given color.</p>
<p><a href="https://colab.research.google.com/github/antomon/antomon.github.io/blob/b6d9822757db56d5906f1b3f8e6bb6e3040e7c3a/_static/posts/colors-101/cielab_sampler.ipynb"><img src="https://colab.research.google.com/assets/colab-badge.svg" class="img-fluid" alt="Open In Colab"></a></p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p><a href="https://cie.co.at/" title="CIE website">CIE website</a>: International Commission on Illumination official website</p>
<p><a href="http://www.brucelindbloom.com/" title="Bruce Justin Lindbloom's website">Bruce Justin Lindbloom‚Äôs website</a>: useful for color spaces conversion formulas</p>
<p><a href="https://johnthemathguy.blogspot.com/" title="John the Math Guy's website">John the Math Guy‚Äôs website</a>: outstanding resource for color theory</p>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/antomon\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="antomon/antomon-utterances" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Antonio Montano‚Äôs Personal Website</p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../about.html">
<p>About</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="../../contents/services.html">
<p>Services</p>
</a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/montano/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/antomon">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/antomon">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 ¬© Antonio Montano, 2024
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">
<p><img src="https://raw.githubusercontent.com/antomon/antomon.github.io/cd7dbf5f81371c6eb1c3c7e8a32ac35f44b3bbce/by-nc-nd.svg" class="img-fluid"></p>
</a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>